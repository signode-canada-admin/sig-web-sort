<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signode Picktickets
    </title>

    <!-- IMPORTS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/styles-home-page.css">
    <script src="https://kit.fontawesome.com/b99e675b6e.js"></script> 
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://kit.fontawesome.com/065b6a01b6.js"></script>

    <script>
        $(document).ready(function(){ // makes the function available after the document is loaded
            
            // DROPDOWN EVENT HANDLING

            // when the default dropdown button is clicked, display all dropdown options 
            $(".dropdown, .fa-solid").click(function(event){
                $(".dropdown-options ul").addClass("active");
                event.stopPropagation();
            });

            // when any of the dropdown options are clicked, set the text to be that option and hide dropdown
            $(".dropdown-options ul li").click(function(event){
                var text = $(this).text();
                $(".default-option").text(text);
                $(".dropdown-options ul").removeClass("active");
                event.stopPropagation();
            });

            $(document).on("click", function (event) {
                $(".dropdown-options ul").removeClass("active");
            });
        
        });
    </script> 

</head>

<body>

    <!-- ******************************* SEARCH BAR ************************************** -->
    <div class="wrapper">
        <!-- signode logo -->
        <img class="home-logo" src="./images/signode-logo.png" alt="">

        <div class="search-box">
            
            <!-- search icon -->
            <div><i class="fas fa-search"></i></div>

            <!-- dropdown -->
            <div class="dropdown">
                <div class="default-option">Search by...</div>
                
                <!-- dropdown icon -->
                <i class="fa-solid fa-caret-down"></i>
            </div>

            <!-- search field -->
            <div class="search-field">
                <input type="text" class="input" id="myInput" onkeyup="searchTable(event)" placeholder="Search all locations">
            </div>

            <!-- search button -->
            <div class="search-button-wrapper">
                <button type="button" class="search-button" onclick="searchTable(event)">Search</button>
            </div>

        </div>

        <!-- dropdown options -->
        <div class="dropdown-options">
            <ul>
                <li>Active orders</li>
                <li>Archived orders</li>
            </ul>
        </div>

    </div>
  
    <br><br><br><br>
    
    <!-- ******************************* LOCATIONS BUTTONS ************************************** -->
    <div class="location-buttons">
       
        
        <!-- location buttons -->
        <div class="buttons">
            <button class="markham-button" onclick="window.location.href='/markham/allOrders'"></button>
            <button class="markham-button" onclick="window.location.href='/surrey/allOrders'"></button>
            <button class="markham-button" onclick="window.location.href='/glenview/allOrders'"></button>
        </div>
    </div>
    
    <!-- changes url to match search input -->
    <script>
        function searchTable(e) {
            let input = document.getElementById("myInput");
            let target = input.value;
            let filter = $(".default-option").text();
            let code = e.keyCode ? e.keyCode : e.which;
    
            if (input.value.length > 0 && (code == 13 || e.button == 0)) {
                window.location.replace("/"+target+"="+filter);
            }
        }
    </script>
    

</body>
</html>


